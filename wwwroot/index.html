<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>BlazorWeather</title>
    <meta name="description" content="Check current weather of your location.">
    <base href="/" />
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="css/loader.css" />
</head>


<body class="loader" onload="StartGeolocation()">

    <app>

        <h1 class="loading-header">Hello There! ðŸ˜€</h1>

        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>

        <h1 class="loading-footer">Welcome to my Weather App</h1>

    </app>


    <!-- <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div> -->

</body>


<!-- Script for getting the Geolocation -->
<script type="text/javascript">

    var lat = 0;
    var long = 0;

    function StartGeolocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(position => {
                long = position.coords.longitude;
                lat = position.coords.latitude;
            })
        }
    }

    window.GetCurrentCoords = () => {
        return (lat.toString() + " " + long.toString());
    }

</script>


<!-- Script for setting the Weather Icon -->
<script type="text/javascript">

    window.SetIcon = (currentIcon) => {
        var temperatureIcon = document.querySelector(".weatherIcon");
        const skycons = new Skycons({"monochrome": false});
        skycons.play();
        return skycons.set(temperatureIcon, Skycons[currentIcon]);
    }

</script>


<!-- Script to remove the Error Message -->
<script type="text/javascript">

    window.RemoveErrorMessage = () => {
        if (document.querySelector(".error")) {
            var errorMessage = document.querySelector(".error");
            errorMessage.remove();
        }
    }

</script>


<script src="_framework/blazor.webassembly.js"></script>
<script>navigator.serviceWorker.register('service-worker.js');</script>
<script src="https://maxdow.github.io/skycons/skycons.js"></script>


</html>